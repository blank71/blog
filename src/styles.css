/* Lume's design system */
@import "https://unpkg.com/@lumeland/ds@0.5.2/ds.css";

/* Custom components */
@import "css/navbar.css";
@import "css/page.css";
@import "css/post-list.css";
@import "css/post.css";
/* @import "css/code-highlight.css"; */

/* Code highlighting themes */
/* CODE_HIGHLIGHT_LIGHT_THEME */

@media (prefers-color-scheme: dark) {
  /* CODE_HIGHLIGHT_DARK_THEME */
}

/* Manual theme override support */
[data-theme="dark"] {
  /* MANUAL_DARK_THEME */
}

[data-theme="light"] {
  /* MANUAL_LIGHT_THEME */
}

/* Theme variables: default (light) + prefers-color-scheme and manual override */
:root {
  /* Background and borders */
  --color-bg: #ffffff;
  --color-line: rgba(0, 0, 0, 0.15);

  --color-link: var(--color-base);
  --color-link-hover: var(--color-dim);
}

@media (prefers-color-scheme: dark) {
  :root {
    --color-bg: #0d1117;
    --color-line: rgba(255, 255, 255, 0.35);
  }
}

[data-theme="dark"] {
  --color-bg: #0d1117;
  --color-line: rgba(255, 255, 255, 0.35);
}

[data-theme="light"] {
  --color-bg: #ffffff;
  --color-line: rgba(0, 0, 0, 0.15);
}

/* Code copy button */
.code-copy-button {
  position: absolute;
  top: 0.5em;
  right: 0.5em;
  padding: 0.3em 0.8em;
  font-size: 0.85em;
  font-family: var(--font-ui);
  background: var(--color-background, rgba(128, 128, 128, 0.2));
  color: var(--color-text, var(--color-base));
  border: 1px solid var(--color-line);
  border-radius: 0.3em;
  cursor: pointer;
  opacity: 0.7;
  transition: opacity 0.2s, background 0.2s;
}

.code-copy-button:hover {
  opacity: 1;
  background: var(--color-background, rgba(128, 128, 128, 0.3));
}

.code-copy-button:active {
  transform: scale(0.95);
}

pre:has(> code.hljs) {
  position: relative;
}

/* Ensure body uses the background color */
body {
  background: var(--color-bg);
  color: var(--color-base);
  padding-top: 5rem;
}

/* Page layout */
main {
  padding: var(--row-gap-medium) 0;
  max-width: min(100% - 15vw, 70em);
  margin: 0 auto;

  &> :first-child {
    margin-top: 0;
  }
}

/* Search tweak */
.search {
  margin-top: var(--row-gap-xsmall);
}